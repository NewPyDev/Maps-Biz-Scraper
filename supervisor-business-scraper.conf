# Supervisor Configuration for Business Scraper
# Location: /etc/supervisor/conf.d/business-scraper.conf

[program:business-scraper]
command=/home/ubuntu/projects/business-scraper/start.sh
directory=/home/ubuntu/projects/business-scraper
user=ubuntu
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true

# Logging
stdout_logfile=/var/log/supervisor/business-scraper-out.log
stderr_logfile=/var/log/supervisor/business-scraper-err.log
stdout_logfile_maxbytes=50MB
stderr_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile_backups=10

# Environment
environment=PATH="/home/ubuntu/projects/business-scraper/.venv/bin:/usr/local/bin:/usr/bin:/bin",PYTHONUNBUFFERED="1"

# Resource limits (adjust based on OCI specs)
priority=999
startsecs=10
startretries=3
